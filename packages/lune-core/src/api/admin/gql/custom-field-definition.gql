enum CustomFieldAppliesToEntity {
  PRODUCT
}

enum CustomFieldType {
  SINGLE_LINE_TEXT
  MULTI_LINE_TEXT
  INTEGER
  DECIMAL
  MONEY
  DATE
  BOOLEAN
  IMAGE
  REFERENCE
}

"""
Represents a custom field that cna be attached to an entity
"""
type CustomFieldDefinition {
  id: ID!
  createdAt: Date!
  updatedAt: Date!
  """
  Name of the definition
  """
  name: String!
  """
  A unique  and readable key to make reference to the definition
  """
  key: String!
  """
  Weather the field is a list of values
  """
  isList: Boolean!
  """
  Entities this field can be applied to
  """
  appliesToEntity: CustomFieldAppliesToEntity!
  """
  Type of the definition
  """
  type: CustomFieldType!
  metadata: JSON
}

type CustomFieldDefinitionList {
  items: [CustomFieldDefinition!]!
  count: Int!
  pageInfo: PageInfo!
}

type Query {
  customFieldDefinition(id: ID!): CustomFieldDefinition
  customFieldDefinitions(input: ListInput): CustomFieldDefinitionList!
}

type Mutation {
  createCustomFieldDefinition(input: CreateCustomFieldInput!): CustomFieldDefinitionResult!
  updateCustomFieldDefinition(id: ID!, input: UpdateCustomFieldInput!): CustomFieldDefinition!
  removeCustomFieldDefinition(id: ID!): Boolean!
}

input CreateCustomFieldInput {
  name: String!
  isList: Boolean!
  appliesToEntity: CustomFieldAppliesToEntity!
  type: CustomFieldType!
  metadata: JSON
}

input UpdateCustomFieldInput {
  name: String!
}

type CustomFieldDefinitionResult {
  customFieldDefinition: CustomFieldDefinition
  apiErrors: [CustomFieldDefinitionErrorResult!]!
}

type CustomFieldDefinitionErrorResult {
  code: CustomFieldDefinitionErrorCode!
  message: String!
}

" Utils "
enum CustomFieldDefinitionErrorCode {
  INVALID_METADATA
  KEY_ALREADY_EXISTS
}
