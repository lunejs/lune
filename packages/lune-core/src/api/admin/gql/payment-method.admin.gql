extend type PaymentMethod {
  createdAt: Date!
  updatedAt: Date!
  """
  Whether the payment method is enabled. Disabled methods won't be shown in the storefront
  """
  enabled: Boolean!
  """
  Specific data for the payment handler chosen.
  Usually stores payment integration keys and the handler code
  """
  handler: HandlerConfig!
}

"""
A payment handler is a way to manage the payment of an order in your shop
"""
type PaymentHandler {
  """
  The payment handler's name (e.g. 'Stripe')
  """
  name: String!

  """
  The payment handler's code (e.g. 'stripe')
  """
  code: String!

  """
  Specific data for the payment handler chosen
  Usually, this json stores the payment integration keys
  Record<string, Arg>
  """
  args: JSON!
}

type Query {
  paymentMethod(id: ID!): PaymentMethod
  paymentMethods: [PaymentMethod!]!
  paymentHandlers: [PaymentHandler!]!
}

type Mutation {
  createPaymentMethod(input: CreatePaymentMethodInput!): PaymentMethodResult!
  updatePaymentMethod(id: ID!, input: UpdatePaymentMethodInput!): PaymentMethod!
  removePaymentMethod(id: ID!): Boolean!
}

input CreatePaymentMethodInput {
  name: String!
  handler: HandlerConfigInput!
  enabled: Boolean
}

input UpdatePaymentMethodInput {
  name: String
  enabled: Boolean
  args: JSON
}

type PaymentMethodResult {
  paymentMethod: PaymentMethod
  apiErrors: [PaymentMethodErrorResult!]!
}

type PaymentMethodErrorResult {
  code: PaymentMethodErrorCode!
  message: String!
}

enum PaymentMethodErrorCode {
  HANDLER_NOT_FOUND
}
