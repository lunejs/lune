"""
Represents a custom object definition that can be used to create custom entities
"""
type CustomObjectDefinition {
  id: ID!
  createdAt: Date!
  updatedAt: Date!
  """
  Name of the custom object definition
  """
  name: String!
  """
  A unique and readable identifier for the custom object definition
  """
  key: String!
  """
  The ID of the field used as display field for entries
  """
  displayFieldId: ID
  """
  The fields that belong to this custom object definition
  """
  fields: [CustomFieldDefinition!]!
}

type CustomObjectDefinitionList {
  items: [CustomObjectDefinition!]!
  count: Int!
  pageInfo: PageInfo!
}

input CustomObjectDefinitionListInput {
  """
  Skip the first n results
  """
  skip: Int

  """
  Takes n results from where the skip position is
  """
  take: Int

  filters: CustomObjectDefinitionFilters
}

input CustomObjectDefinitionFilters {
  name: StringFilter
}

type Query {
  customObjectDefinition(id: ID!): CustomObjectDefinition
  customObjectDefinitions(input: CustomObjectDefinitionListInput): CustomObjectDefinitionList!
}

type Mutation {
  createCustomObjectDefinition(
    input: CreateCustomObjectDefinitionInput!
  ): CustomObjectDefinitionResult!

  updateCustomObjectDefinition(
    id: ID!
    input: UpdateCustomObjectDefinitionInput!
  ): CustomObjectDefinitionResult!

  removeCustomObjectDefinition(id: ID!): Boolean!
}

input CreateCustomObjectDefinitionInput {
  name: String!
  displayFieldName: String!
  fields: [CreateCustomFieldInput!]
}

input UpdateCustomObjectDefinitionInput {
  name: String
  displayFieldName: String
  fields: [UpdateCustomObjectFieldInput!]
  newFields: [CreateCustomFieldInput!]
}

input UpdateCustomObjectFieldInput {
  id: ID!
  name: String!
  order: Int!
}

type CustomObjectDefinitionResult {
  customObjectDefinition: CustomObjectDefinition
  apiErrors: [CustomObjectDefinitionErrorResult!]!
}

type CustomObjectDefinitionErrorResult {
  code: CustomObjectDefinitionErrorCode!
  message: String!
}

enum CustomObjectDefinitionErrorCode {
  KEY_ALREADY_EXISTS
}
