input CustomFieldValue {
  id: ID!
  value: JSON
}

enum CustomFieldAppliesToEntity {
  PRODUCT
  COLLECTION
  CUSTOM_OBJECT
}

enum CustomFieldType {
  SINGLE_LINE_TEXT
  MULTI_LINE_TEXT
  URL
  INTEGER
  DECIMAL
  MONEY
  DATE
  BOOLEAN
  IMAGE
  PRODUCT_REFERENCE
  COLLECTION_REFERENCE
  CUSTOM_OBJECT_REFERENCE
}

"""
Represents a custom field that cna be attached to an entity
"""
type CustomFieldDefinition {
  id: ID!
  createdAt: Date!
  updatedAt: Date!
  """
  Name of the definition
  """
  name: String!
  """
  A unique  and readable key to make reference to the definition
  """
  key: String!
  """
  Weather the field is a list of values
  """
  isList: Boolean!
  """
  Entities this field can be applied to
  """
  appliesToEntity: CustomFieldAppliesToEntity!
  """
  Type of the definition
  """
  type: CustomFieldType!
  """
  The custom object definition this field references (for custom_object_reference type)
  """
  referenceTarget: CustomObjectDefinition
  metadata: JSON
  """
  Order of the field in the custom object definition
  """
  order: Int!
}

type CustomFieldDefinitionList {
  items: [CustomFieldDefinition!]!
  count: Int!
  pageInfo: PageInfo!
}

input CustomFieldDefinitionListInput {
  """
  Skip the first n results
  """
  skip: Int

  """
  takes n result from where the skip position is
  """
  take: Int

  """
  Filters to apply
  """
  filters: CustomFieldDefinitionFilters
}

input CustomFieldDefinitionFilters {
  type: CustomFieldType
  appliesToEntity: CustomFieldAppliesToEntity
}

type Query {
  customFieldDefinition(id: ID!): CustomFieldDefinition
  customFieldDefinitions(input: CustomFieldDefinitionListInput): CustomFieldDefinitionList!
}

type Mutation {
  createCustomFieldDefinition(input: CreateCustomFieldInput!): CustomFieldDefinitionResult!
  updateCustomFieldDefinition(id: ID!, input: UpdateCustomFieldInput!): CustomFieldDefinition!
  removeCustomFieldDefinition(id: ID!): Boolean!
}

input CreateCustomFieldInput {
  name: String!
  isList: Boolean!
  appliesToEntity: CustomFieldAppliesToEntity!
  type: CustomFieldType!
  metadata: JSON
  order: Int!
  referenceTargetId: ID
}

input UpdateCustomFieldInput {
  name: String!
  order: Int!
}

type CustomFieldDefinitionResult {
  customFieldDefinition: CustomFieldDefinition
  apiErrors: [CustomFieldDefinitionErrorResult!]!
}

type CustomFieldDefinitionErrorResult {
  code: CustomFieldDefinitionErrorCode!
  message: String!
}

" Utils "
enum CustomFieldDefinitionErrorCode {
  INVALID_METADATA
  KEY_ALREADY_EXISTS
}
